"use strict";var getData=function(){var n=_asyncToGenerator(regeneratorRuntime.mark(function n(){var t,e,i,a,r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,pAjax({url:"../api/xiel.php",data:{start:defaultInfo.num,len:defaultInfo.len}});case 2:a=n.sent,console.log(a),renderHtml(a.list),t=a.list,e=document.getElementById("jiage"),i=document.getElementById("xiaoliang"),a=document.getElementById("pingjia"),r=0,e.onclick=function(){0===r&&t.sort(function(n,t){return t.pie-n.pie}),renderHtml(t)},r=0,i.onclick=function(){0===r&&t.sort(function(n,t){return t.id-n.id}),renderHtml(t)},r=0,a.onclick=function(){0===r&&t.sort(function(n,t){return n.pie-t.pie}),renderHtml(t)};case 15:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}();function _asyncToGenerator(n){return function(){var l=n.apply(this,arguments);return new Promise(function(r,o){return function t(n,e){try{var i=l[n](e),a=i.value}catch(n){return void o(n)}if(!i.done)return Promise.resolve(a).then(function(n){t("next",n)},function(n){t("throw",n)});r(a)}("next")})}}var list=document.querySelector(".list"),page=document.querySelector(".page"),defaultInfo={len:20,num:1};function renderHtml(n){var e="";n.forEach(function(n,t){e+=' <li class="list-item">\n        <div class="row">\n            <div>\n                <div class="thumbnail">\n                    <img src="'+n.Pic+'"\n                        alt="...">\n                    <div class="caption">\n                        <h3>'+n.name+'</h3>\n                        <div class="price">\n                            <i class="glyphicon glyphicon-yen"></i>\n                            <span>'+n.pie+'</span>\n                        </div>\n                        <p>\n                            <a href="./car.html" class="btn btn-primary" role="button">查看购物车</a>\n                            <a href="./detail.html?id='+n.id+'" class="btn btn-info" role="button">查看商品详情</a>\n                        </p>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </li>'}),list.innerHTML=e}pAjax({url:"../api/xiel.php",data:{start:defaultInfo.num,len:defaultInfo.len}}).then(function(n){new Pagination(page,{pageInfo:{pagenum:1,pagesize:defaultInfo.len,total:n.total,totalpage:Math.ceil(n.total/defaultInfo.len)},textInfo:{first:"首页",prev:"上一页",list:"",next:"下一页",last:"最后一页"},change:function(n){defaultInfo.num=n,getData(),scrollTo(0,0)}})}),$("#btn").on("click",function(){$.get("../api/mohu.php",{name:$("#name").val()},function(n){console.log(n),renderHtml(n)},"json")});